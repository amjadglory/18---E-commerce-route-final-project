<section class="bg-cyan-50 dark:bg-[#2c2c31] py-44">
  <div class="container">
    <h1 class="text-5xl text-center m-3 dark:text-cyan-50 text-cyan-800">
      Reset Password
    </h1>
    <div class="card w-full lg:w-[80%] p-7 mx-auto">
      <ol
        class="flex items-center w-full mb-5 justify-between text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base"
      >
        <li
          [class.text-cyan-600]="step === 1"
          class="flex md:w-full items-center sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700"
        >
          <span
            class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500"
          >
            <span class="me-2"><i class="fa-solid fa-envelope"></i></span>
            Verify <span class="hidden sm:inline-flex sm:ms-2">Email</span>
          </span>
        </li>
        <li
          [class.text-cyan-600]="step === 2"
          class="flex md:w-full items-center after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700"
        >
          <span
            class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500"
          >
            <span class="me-2"><i class="fa-solid fa-user-secret"></i></span>
            Verify <span class="hidden sm:inline-flex sm:ms-2">Code</span>
          </span>
        </li>
        <li [class.text-cyan-600]="step === 3" class="flex items-center">
          <span class="me-2"><i class="fa-solid fa-key"></i></span>
          Password
        </li>
      </ol>

      @if (step === 1) {
      <form [formGroup]="verifyEmail" (ngSubmit)="step1()">
        <app-input
          [inputControl]="verifyEmail.get('email')"
          [inputType]="'email'"
          [inputIcon]="'fa-solid fa-envelope'"
          [inputId]="'email'"
          [inputLabel]="'Email'"
          [inputPlaceHolder]="'amjad@gmail.com'"
        ></app-input>
        <button
          type="submit"
          class="mainBtn mt-5 mx-auto flex items-center justify-center"
        >
          @if (isLoading) {
          <span
            ><img
              class="w-[20px] h-[20px] rotateY animate-bounce"
              src="/images/logo.png"
              alt=""
          /></span>
          }@else if (!isLoading) {
          <span>Verify Email</span>
          }
        </button>
      </form>
      }@else if (step === 2) {
      <form [formGroup]="verifyCode" (ngSubmit)="step2()">
        <app-input
          [inputControl]="verifyCode.get('resetCode')"
          [inputType]="'text'"
          [inputIcon]="'fa-solid fa-user-secret'"
          [inputId]="'resetCode'"
          [inputLabel]="'Verify Code'"
          [inputPlaceHolder]="'112594'"
        ></app-input>
        <button
          type="submit"
          class="mainBtn mt-5 mx-auto flex items-center justify-center"
        >
          @if (isLoading) {
          <span
            ><img
              class="w-[20px] h-[20px] rotateY animate-bounce"
              src="/images/logo.png"
              alt=""
          /></span>
          }@else if (!isLoading) {
          <span>Verify Code</span>
          }
        </button>
      </form>
      }@else if (step === 3) {
      <form [formGroup]="resetPass" (ngSubmit)="step3()">
        <app-input
          [inputControl]="resetPass.get('email')"
          [inputType]="'email'"
          [inputIcon]="'fa-solid fa-envelope'"
          [inputId]="'email'"
          [inputLabel]="'Email'"
          [inputPlaceHolder]="'amjad@gmail.com'"
        ></app-input>
        <app-input
          [inputControl]="resetPass.get('newPassword')"
          [inputType]="'password'"
          [inputIcon]="'fa-solid fa-key'"
          [inputId]="'password'"
          [inputLabel]="'New Password'"
          [inputPlaceHolder]="''"
        ></app-input>
        <button
          type="submit"
          class="mainBtn mt-5 mx-auto flex items-center justify-center"
        >
          @if (isLoading) {
          <span
            ><img
              class="w-[20px] h-[20px] rotateY animate-bounce"
              src="/images/logo.png"
              alt=""
          /></span>
          }@else if (!isLoading) {
          <span>Reset Password</span>
          }
        </button>
      </form>
      }
    </div>
  </div>
</section>
