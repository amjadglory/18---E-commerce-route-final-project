<section class="bg-cyan-50 py-28 md:py-36 lg:py-24 dark:bg-[#2c2c31]">
  <div class="container mx-auto">
    @if (ordersList.length === 0) {
    <div class="card dark:text-cyan-50 bg-transparent mb-5 space-y-3.5 p-4">
      <!-- heading -->
      <h2 class="text-5xl dark:text-cyan-50 text-cyan-800">My Orders</h2>
      <h3 class="text-[18px] leading-[28px]">{{ ordersList.length }} Order</h3>

      <!-- card -->
      @if (!isLoading) {

      <div class="card text-center p-5 space-y-3.5 dark:text-cyan-50">
        <h2 class="text-[30px] leading-[23px]">Didn't Order Enything Yet?!</h2>
        <p>You Can Have A Look At Our Products</p>
        <div class="my-10 flex justify-center items-center">
          <a
            routerLink="/products"
            type="button"
            class="text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 w-full md:w-[50%] lg:w-[30%]"
          >
            See All Products
          </a>
        </div>
      </div>
      }@else {
      <div class="h-[300px] flex justify-center items-center">
        <span
          ><img
            class="w-[80px] h-[80px] rotateY animate-bounce"
            src="/images/logo.png"
            alt=""
        /></span>
      </div>
      }
    </div>
    }@else {
    <div class="card dark:text-cyan-50 bg-transparent mb-5 space-y-3.5 p-4">
      <!-- heading -->
      <h2 class="text-5xl dark:text-cyan-50 text-cyan-800">My Orders</h2>
      <h3 class="text-[18px] leading-[28px]">{{ ordersList.length }} Order</h3>

      <!-- card -->
      @if (!isLoading) { @for (prodList of ordersList; track $index) {
      <div class="card px-4 pt-4 pb-3.5 space-y-3.5 mb-7 dark:text-cyan-50">
        <div class="flex justify-between items-center flex-col lg:flex-row">
          <h3 class="text-[18px] leading-[28px] mb-3">
            <i class="fa-solid fa-basket-shopping"></i> Order-ID-{{
              prodList.id
            }}
          </h3>
          <div class="flex flex-wrap lg:flex-nowrap">
            <div
              class="flex items-center gap-1 justify-center w-[47%] mb-3 lg:mb-0 lg:w-fit bg-cyan-100 text-cyan-800 text-lg font-medium me-2 px-4 py-2 rounded-full dark:bg-cyan-900 dark:text-cyan-300"
            >
              @if (prodList.paymentMethodType === 'cash') {
              <i class="fa-solid fa-money-bill-wave"></i>
              <span>Cash</span>
              } @else if (prodList.paymentMethodType === 'card') {
              <i class="fa-regular fa-credit-card"></i>
              <span>Credit</span>
              }
            </div>
            @if (prodList.isPaid) {
            <div
              class="flex items-center gap-1 justify-center w-[47%] mb-3 lg:mb-0 lg:w-fit bg-green-100 text-green-800 text-lg font-medium me-2 px-4 py-2 rounded-full dark:bg-green-900 dark:text-green-300"
            >
              <i class="fa-regular fa-circle-check text-lg"></i>
              <span>paid</span>
            </div>
            } @else if (!prodList.isPaid) {
            <div
              class="flex items-center gap-1 justify-center w-[47%] mb-3 lg:mb-0 lg:w-fit bg-red-100 text-red-800 text-lg font-medium me-2 px-4 py-2 rounded-full dark:bg-red-900 dark:text-red-300"
            >
              <i class="fa-solid fa-circle-xmark"></i> <span>Not Paid</span>
            </div>
            } @if (prodList.isDelivered) {
            <div
              class="flex items-center gap-1 justify-center w-full lg:w-fit bg-green-100 text-green-800 text-lg font-medium me-2 px-4 py-2 rounded-full dark:bg-green-900 dark:text-green-300"
            >
              <i class="fa-regular fa-circle-check text-lg"></i>
              <span>Delivered</span>
            </div>
            } @else if (!prodList.isDelivered) {
            <div
              class="flex items-center gap-1 justify-center w-full lg:w-fit bg-red-100 text-red-800 text-lg font-medium me-2 px-4 py-2 rounded-full dark:bg-red-900 dark:text-red-300"
            >
              <i class="fa-solid fa-circle-xmark"></i>
              <span>Not Delivered</span>
            </div>
            }
          </div>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-2">
          @for (item of prodList.cartItems ; track $index) {
          <div class="card rounded-2xl flex flex-col md:flex-row gap-5">
            <img
              class="w-full md:w-[30%] rounded-t-2xl md:rounded-s-2xl md:rounded-top-0"
              [src]="item.product.imageCover"
              [alt]="item.product.title"
            />
            <div class="flex flex-col w-fit p-2.5">
              <div class="flex flex-col space-y-2 py-2 pe-5 w-full">
                <h4 class="text-[20px] leading-[28px]">
                  {{ item.product.title }}
                </h4>
                <p>{{ item.product.category.name }}</p>
                <p>{{ item.product.brand.name }}</p>
                <p>
                  {{ item.product.ratingsAverage }}
                  <i class="fa-solid fa-star text-[gold]"></i>
                </p>
                <p>Count: x{{ item.count }}</p>
              </div>
              <p class="me-4 justify-self-start">Price: {{ item.price }} EGP</p>
            </div>
          </div>
          }
        </div>
        <hr class="text-cyan-50 dark:text-cyan-700" />
        <div class="w-full">
          <h4 class="text-[20px] leading-[28px] text-center">
            Total Price {{ prodList.totalOrderPrice }} EGP
          </h4>
        </div>
      </div>
      } }@else {
      <div class="h-[300px] flex justify-center items-center">
        <span
          ><img
            class="w-[80px] h-[80px] rotateY animate-bounce"
            src="/images/logo.png"
            alt=""
        /></span>
      </div>
      }
    </div>
    }
  </div>
</section>
